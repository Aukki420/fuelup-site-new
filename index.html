<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>FuelUp Concepts Ltd.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React 18 (CDN) -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- Babel for inline JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-white text-gray-900">
  <div id="root"></div>

  <script type="text/babel" data-presets="react">
    const { useState, useEffect } = React;

    function App() {
      const [currentPage, setCurrentPage] = useState("home");
      const [formData, setFormData] = useState({});
      const [formErrors, setFormErrors] = useState({});
      const [submitStatus, setSubmitStatus] = useState(null);
      const [menuFile, setMenuFile] = useState(null);

      const navigateTo = (page) => { setCurrentPage(page); window.scrollTo(0,0); };
      const handleInputChange = (e) => {
        const { name, value, type, checked } = e.target;
        setFormData(prev => ({ ...prev, [name]: type === 'checkbox' ? checked : value }));
      };
      const handleFileChange = (e) => setMenuFile(e.target.files[0]);

      // ----- VALIDATION (partner form) -----
      const validateForm = () => {
        const errors = {};
        const required = [
          'restaurantName','contactName','phone','email','fiveDayCommit',
          'dailyCapacity','packaging','foodSafetyStatus','payoutTarget'
        ];
        required.forEach(f => {
          if (!formData[f] || (typeof formData[f] === 'string' && formData[f].trim() === '')) {
            errors[f] = 'This field is required';
          }
        });
        if (formData.email && !/\S+@\S+\.\S+/.test(formData.email)) errors.email = 'Enter a valid email';
        if (formData.phone && !/^\d{10}$|^\d{3}-\d{3}-\d{4}$/.test(String(formData.phone).replace(/\D/g,''))) errors.phone = 'Enter a valid phone number';
        setFormErrors(errors);
        return Object.keys(errors).length === 0;
      };

      // ----- SUBMIT: PARTNER (Formspree) -----
      async function handleSubmitPartnerForm(e) {
        e.preventDefault();
        if (!validateForm()) return;

        const formEl = e.target;
        // Abort if honeypot was filled (bot)
        if (formEl.querySelector('input[name="_gotcha"]')?.value) return;

        const data = new FormData(formEl);
        if (menuFile) data.append('menuFile', menuFile);
        data.append('_subject', `Restaurant Application — ${formData.restaurantName || ''}`);

        try {
          const res = await fetch("https://formspree.io/f/myzdnvay", {
            method: "POST",
            body: data,
            headers: { "Accept": "application/json" }
          });
          if (res.ok) {
            setSubmitStatus({ success: true, message: "Thanks — we’ll review and contact you within 1 business day." });
            formEl.reset(); setFormData({}); setMenuFile(null);
          } else {
            setSubmitStatus({ success: false, message: "Submission failed. Please try again." });
          }
        } catch {
          setSubmitStatus({ success: false, message: "Network error. Please try again." });
        }
      }

      // ----- SUBMIT: CONTACT (Formspree) -----
      async function handleSubmitContactForm(e) {
        e.preventDefault();
        const formEl = e.target;
        if (formEl.querySelector('input[name="_gotcha"]')?.value) return;

        const data = new FormData(formEl);
        data.append('_subject', 'Website Contact');
        try {
          const res = await fetch("https://formspree.io/f/meolrwqq", {
            method: "POST",
            body: data,
            headers: { "Accept": "application/json" }
          });
          if (res.ok) {
            setSubmitStatus({ success: true, message: "Thank you for your message. We will respond shortly." });
            formEl.reset();
          } else {
            setSubmitStatus({ success: false, message: "Submission failed. Please try again." });
          }
        } catch {
          setSubmitStatus({ success: false, message: "Network error. Please try again." });
        }
      }

      useEffect(() => {
        if (!submitStatus) return;
        const t = setTimeout(() => setSubmitStatus(null), 5000);
        return () => clearTimeout(t);
      }, [submitStatus]);

      // ----- UI components -----
      const Navigation = () => (
        <nav className="bg-white shadow-sm sticky top-0 z-50">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex justify-between items-center h-16">
              <h1 className="text-xl font-bold">FuelUp Concepts Ltd.</h1>
              <div className="hidden md:flex gap-6">
                {[
                  ['Home','home'],['Food','food'],['Tech','tech'],
                  ['Events','events'],['About','about'],['Contact','contact']
                ].map(([label, path]) => (
                  <button key={path}
                          onClick={() => navigateTo(path)}
                          className={`${currentPage===path?'text-blue-600 border-b-2 border-blue-600':'text-gray-700 hover:text-blue-600'} px-2 py-2`}>
                    {label}
                  </button>
                ))}
              </div>
            </div>
          </div>
        </nav>
      );

      const Footer = () => (
        <footer className="bg-gray-50 border-t">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
              <div className="md:col-span-2">
                <h3 className="text-lg font-semibold mb-4">FuelUp Concepts Ltd.</h3>
                <p className="text-gray-600 mb-4">Local service brands across Food, Tech & Events.</p>
                <p className="text-sm text-gray-500">Kitimat, BC, Canada</p>
              </div>
              <div>
                <h4 className="font-semibold mb-4">Quick Links</h4>
                <ul className="space-y-2 text-sm">
                  {['home','food','tech','events','about','contact'].map(p => (
                    <li key={p}>
                      <button onClick={() => navigateTo(p)} className="text-gray-600 hover:text-blue-600 capitalize">
                        {p.replace('-',' ')}
                      </button>
                    </li>
                  ))}
                </ul>
              </div>
              <div>
                <h4 className="font-semibold mb-4">Contact</h4>
                <div className="space-y-2 text-sm text-gray-600">
                  <p>hello@fuelupconcepts.ca</p>
                  <p>partnerships@fuelupconcepts.ca</p>
                  <p>bookings@fuelupconcepts.ca</p>
                </div>
              </div>
            </div>
            <div className="border-t mt-8 pt-6 text-center text-sm text-gray-500">
              &copy; {new Date().getFullYear()} FuelUp Concepts Ltd.
            </div>
          </div>
        </footer>
      );

      const StatusMessage = () =>
        submitStatus ? (
          <div className={`fixed top-4 right-4 max-w-md w-full p-4 rounded-lg shadow-lg ${submitStatus.success?'bg-green-50 text-green-800':'bg-red-50 text-red-800'}`}>
            <p className="text-sm font-medium">{submitStatus.message}</p>
          </div>
        ) : null;

      // ---- PAGES (Home shortened to keep focus) ----
      const HomePage = () => (
        <div className="min-h-screen">
          <section className="bg-white py-20 text-center">
            <div className="max-w-3xl mx-auto px-4">
              <h1 className="text-5xl font-bold mb-6">Local service brands, built to scale.</h1>
              <p className="text-xl text-gray-600 mb-8">
                FuelUp operates three verticals — Food, Tech, and Events — with a simple, reliable approach.
              </p>
              <div className="flex flex-col sm:flex-row gap-4 justify-center">
                <button onClick={() => navigateTo('food')} className="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700">Explore Food</button>
                <button onClick={() => navigateTo('restaurant-partners')} className="border px-8 py-3 rounded-lg">Restaurant Partners</button>
              </div>
            </div>
          </section>
        </div>
      );

      const FoodPage = () => (
        <div className="min-h-screen bg-white">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
            <h1 className="text-4xl font-bold mb-8">Food</h1>
            <div className="bg-gray-50 p-8 rounded-lg mb-12">
              <h2 className="text-2xl font-semibold mb-4">FuelUp Lunchboxes (live)</h2>
              <p className="text-gray-600 mb-6">Pre-ordered, restaurant-cooked lunch boxes at fair, predictable pricing.</p>
              <button onClick={() => navigateTo('restaurant-partners')} className="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700">
                Restaurant Partners (Lunchboxes)
              </button>
            </div>
          </div>
        </div>
      );

      // Restaurant Partners page WITH the new fields
      const RestaurantPartnersPage = () => (
        <div className="min-h-screen bg-white">
          <section className="py-16 bg-gradient-to-br from-blue-50 to-white">
            <div className="max-w-6xl mx-auto px-4">
              <h1 className="text-4xl font-bold mb-6">Steady Lunch Orders. No Delivery. No Marketing.</h1>
              <p className="text-lg text-gray-600 mb-8">We assign you standardized FuelUp Boxes. You cook; we bring orders and pick up on schedule.</p>
            </div>
          </section>

          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
            <h2 className="text-3xl font-bold mb-8">Apply to Partner</h2>

            <form onSubmit={handleSubmitPartnerForm} className="bg-white p-8 rounded-xl shadow-sm border">
              <!-- Honeypot for bots -->
              <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                  <label className="block text-sm font-medium mb-2">Restaurant Name *</label>
                  <input type="text" name="restaurantName" value={formData.restaurantName || ''} onChange={handleInputChange}
                         className={`w-full px-4 py-2 border rounded-lg ${formErrors.restaurantName?'border-red-500':'border-gray-300'}`} />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-2">Contact Person *</label>
                  <input type="text" name="contactName" value={formData.contactName || ''} onChange={handleInputChange}
                         className={`w-full px-4 py-2 border rounded-lg ${formErrors.contactName?'border-red-500':'border-gray-300'}`} />
                </div>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <div>
                  <label className="block text-sm font-medium mb-2">Phone *</label>
                  <input type="tel" name="phone" value={formData.phone || ''} onChange={handleInputChange}
                         className={`w-full px-4 py-2 border rounded-lg ${formErrors.phone?'border-red-500':'border-gray-300'}`} />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-2">Email *</label>
                  <input type="email" name="email" value={formData.email || ''} onChange={handleInputChange}
                         className={`w-full px-4 py-2 border rounded-lg ${formErrors.email?'border-red-500':'border-gray-300'}`} />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-2">Daily Lunch Capacity *</label>
                  <input type="number" name="dailyCapacity" value={formData.dailyCapacity || ''} onChange={handleInputChange}
                         className={`w-full px-4 py-2 border rounded-lg ${formErrors.dailyCapacity?'border-red-500':'border-gray-300'}`} />
                </div>
              </div>

              <!-- NEW: Menu / Dishes textarea -->
              <div className="mb-6">
                <label className="block text-sm font-medium mb-2">Menu / Dishes You Can Do (3–5 lunch boxes) *</label>
                <textarea name="menu" rows="4" value={formData.menu || ''} onChange={handleInputChange}
                          placeholder="List 3–5 dishes (e.g., Butter Chicken + Rice + Salad)"
                          className={`w-full px-4 py-2 border rounded-lg ${formErrors.menu?'border-red-500':'border-gray-300'}`}></textarea>
                {formErrors.menu && <p className="text-sm text-red-600 mt-1">{formErrors.menu}</p>}
              </div>

              <!-- NEW: File upload -->
              <div className="mb-6">
                <label className="block text-sm font-medium mb-2">Upload Menu/Photos (Optional)</label>
                <input type="file" name="menuFile" onChange={handleFileChange}
                       accept=".pdf,.jpg,.jpeg,.png,.txt,.doc,.docx"
                       className={`w-full px-4 py-2 border rounded-lg ${formErrors.menuFile?'border-red-500':'border-gray-300'}`} />
                <p className="text-sm text-gray-500 mt-1">Accepted: PDF, JPG, PNG, TXT, DOC, DOCX (max 10MB)</p>
                {menuFile && <p className="text-sm text-green-600 mt-1">Selected: {menuFile.name}</p>}
              </div>

              <!-- Minimal required selects to satisfy validation -->
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <div>
                  <label className="block text-sm font-medium mb-2">5-Day Commit *</label>
                  <select name="fiveDayCommit" value={formData.fiveDayCommit || ''} onChange={handleInputChange}
                          className={`w-full px-4 py-2 border rounded-lg ${formErrors.fiveDayCommit?'border-red-500':'border-gray-300'}`}>
                    <option value="">Select…</option>
                    <option value="Yes">Yes</option><option value="No">No</option>
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-medium mb-2">Packaging *</label>
                  <select name="packaging" value={formData.packaging || ''} onChange={handleInputChange}
                          className={`w-full px-4 py-2 border rounded-lg ${formErrors.packaging?'border-red-500':'border-gray-300'}`}>
                    <option value="">Select…</option>
                    <option value="Single compartment">Single compartment</option>
                    <option value="Dual compartment">Dual compartment</option>
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-medium mb-2">Food Safety Status *</label>
                  <select name="foodSafetyStatus" value={formData.foodSafetyStatus || ''} onChange={handleInputChange}
                          className={`w-full px-4 py-2 border rounded-lg ${formErrors.foodSafetyStatus?'border-red-500':'border-gray-300'}`}>
                    <option value="">Select…</option>
                    <option value="Certified">Certified</option>
                    <option value="In progress">In progress</option>
                  </select>
                </div>
              </div>

              <div className="mb-6">
                <label className="block text-sm font-medium mb-2">Payout Target (CAD/box) *</label>
                <input type="number" name="payoutTarget" step="0.01" value={formData.payoutTarget || ''} onChange={handleInputChange}
                       className={`w-full px-4 py-2 border rounded-lg ${formErrors.payoutTarget?'border-red-500':'border-gray-300'}`} />
              </div>

              <button type="submit" className="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700">
                Send Application
              </button>
            </form>
          </div>
        </div>
      );

      const TechPage = () => (<div className="min-h-screen p-20">Tech — coming soon.</div>);
      const EventsPage = () => (<div className="min-h-screen p-20">Events — coming soon.</div>);
      const AboutPage = () => (<div className="min-h-screen p-20">About FuelUp.</div>);

      const ContactPage = () => (
        <div className="min-h-screen bg-white">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
            <h1 className="text-4xl font-bold mb-8">Contact</h1>
            <form onSubmit={handleSubmitContactForm} className="bg-white p-8 rounded-lg shadow-sm border max-w-xl">
              <input type="text" name="_gotcha" style={{display:'none'}} tabIndex="-1" autoComplete="off" />
              <div className="mb-4">
                <label className="block text-sm font-medium mb-2">Name *</label>
                <input type="text" name="name" required className="w-full px-4 py-2 border rounded-lg" />
              </div>
              <div className="mb-4">
                <label className="block text-sm font-medium mb-2">Email *</label>
                <input type="email" name="email" required className="w-full px-4 py-2 border rounded-lg" />
              </div>
              <div className="mb-6">
                <label className="block text-sm font-medium mb-2">Message *</label>
                <textarea name="message" rows="5" required className="w-full px-4 py-2 border rounded-lg"></textarea>
              </div>
              <button type="submit" className="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700">Send Message</button>
            </form>
          </div>
        </div>
      );

      function Page() {
        switch (currentPage) {
          case 'food': return <FoodPage />;
          case 'restaurant-partners': return <RestaurantPartnersPage />;
          case 'tech': return <TechPage />;
          case 'events': return <EventsPage />;
          case 'about': return <AboutPage />;
          case 'contact': return <ContactPage />;
          default: return <HomePage />;
        }
      }

      return (
        <div className="font-sans">
          <Navigation />
          <StatusMessage />
          <Page />
          <Footer />
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
